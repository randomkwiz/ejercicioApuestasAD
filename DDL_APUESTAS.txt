--BASE DATOS APUESTA

CREATE TABLE usuarios
(
	correo VARCHAR(15) PRIMARY KEY,
	contraseña VARCHAR(10) NOT NULL,
	saldoActual INT NOT NULL,	
);

CREATE TABLE ApuestaTipo1
(
	id INT IDENTITY PRIMARY KEY,
	fechaApuesta SMALLDATETIME NOT NULL,
	dinero MONEY NOT NULL,
	fechaHoraApuesta SMALLDATETIME NOT NULL, 
	NumGolesLocal TINYINT NOT NULL,
	numGolesVisitante TINYINT NOT NULL,
	cuota MONEY NOT NULL,
	correoUsuario VARCHAR(15),
		CONSTRAINT FK_usuarios FOREIGN KEY (correoUsuario) REFERENCES usuarios (correo),
	idPartido INT IDENTITY,
		CONSTRAINT FK_Partidos FOREIGN KEY (idPartido) REFERENCES partidos (id)
	
);

CREATE TABLE ApuestaTipo2
(	
	id INT IDENTITY PRIMARY KEY,
	cuota MONEY,
	fechaHoraApuesta SMALLDATETIME,
	dineroApostado MONEY NOT NULL,
	equipo VARCHAR(10) NOT NULL,
	goles TINYINT NOT NULL,
	correoUsuario VARCHAR(15),
		CONSTRAINT FK_usuarios FOREIGN KEY (correoUsuario) REFERENCES usuarios (correo),
	idPartido INT IDENTITY,
		CONSTRAINT FK_Partidos FOREIGN KEY (idPartido) REFERENCES partidos (id)

	
);

CREATE TABLE ApuestaTipo3
(
	id INT IDENTITY PRIMARY KEY,
	cuota INT NOT NULL,
	fechaYHoraApuesta DATETIME NOT NULL,
	dineroApostado MONEY NOT NULL,	
	ganador VARCHAR(15) NOT NULL,
	correoUsuario VARCHAR(15),
		CONSTRAINT FK_usuarios FOREIGN KEY (correoUsuario) REFERENCES usuarios (correo),
	idPartido INT IDENTITY,
		CONSTRAINT FK_Partidos FOREIGN KEY (idPartido) REFERENCES partidos (id)
);

CREATE TABLE cuentas
(
	id INT IDENTITY PRIMARY KEY,
	saldo INT NOT NULL,
	fechaYHora SMALLDATETIME NOT NULL,
	correoUsuario VARCHAR(15),
		CONSTRAINT FK_Usuarios FOREIGN KEY (correoUsuarios) REFERENCES usuarios (correo)
);

CREATE TABLE partidos
(
	id INT IDENTITY PRIMARY KEY,
	resultadoLocal TINYINT,
	resultadoVisitanteTINYINT
	isAbierto BYTE,
	maxApuesta1 INT NOT NULL,
	maxApuesta2 INT NOT NULL,
	maxApuesta3 INT NOT NULL,
	fechaPartido SAMLLDATETIME,
	idCompeticion INT IDENTITY,
		CONSTRAINT FK_Competiciones FOREIGN KEY (idCompeticion) REFERENCES competiciones (id)
);

CREATE TABLE competiciones
(
	id INT PRIMARY KEY,
	nombre VARCHAR(20) NOT NULL,
	año INT
);


